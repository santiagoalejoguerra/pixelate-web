(this["webpackJsonppixelate-web"]=this["webpackJsonppixelate-web"]||[]).push([[0],{112:function(e,t,a){e.exports=a(166)},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},166:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(4),c=a.n(i),l=(a(117),a(106)),o=a(6),s=(a(118),a(119),a(120),a(57)),u=a(9),m=a(10),h=a(12),p=a(11),d=a(45),g=a.n(d),f=a(58),v=a(86),b=a.n(v),C=(a(122),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={crop:{aspect:1,unit:"%",width:75,height:75}},n.onCropChange=function(e,t){n.setState({crop:e})},n.onCropComplete=function(e){n.makeClientCrop(e)},n.onImageLoaded=function(e){n.imageRef=e},console.log("Paso el constructor"),n}return Object(m.a)(a,[{key:"makeClientCrop",value:function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.imageRef&&t.width&&t.height&&this.props.callbackImgCropped({image:this.imageRef,crop:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCroppedImg",value:function(e,t,a){var n=this,r=document.createElement("canvas"),i=e.naturalWidth/e.width,c=e.naturalHeight/e.height;return r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(e,t.x*i,t.y*c,t.width*i,t.height*c,0,0,t.width,t.height),new Promise((function(e,t){r.toBlob((function(t){t?(t.name=a,window.URL.revokeObjectURL(n.fileUrl),n.fileUrl=window.URL.createObjectURL(t),e(n.fileUrl)):console.error("Canvas is empty")}),"image/jpeg")}))}},{key:"render",value:function(){var e=this.props.src,t=this.state,a=t.crop;t.croppedImageUrl;return r.a.createElement("div",{className:"App"},r.a.createElement(b.a,{src:e,ruleOfThirds:!0,keepSelection:!0,onComplete:this.onCropComplete,onImageLoaded:this.onImageLoaded,crop:a,onChange:this.onCropChange}))}}]),a}(n.PureComponent)),E=a(78),w=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.distance,n=e.color;return r.a.createElement("div",{className:"pixelateItem "+t,style:{marginLeft:a,backgroundColor:n}})}}]),a}(n.Component),y=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).image=new Image,n.arrayColors=[],n.counts={},n.state={distance:1,palette:e.paletteSelected},n}return Object(m.a)(a,[{key:"createImage",value:function(e){this.image=e||new Image,this.image.height=1|this.image.height,this.image.width=1|this.image.width}},{key:"render",value:function(){var e=this;this.createImage(this.props.image);var t=this.props,a=t.withPalette,n=t.type,i=t.distance,c=t.pixelsToConvert,l=t.paletteSelected,o=t.crop,s=o?o.width:this.image.width,u=o?o.height:this.image.height,m=Object(E.a)(Array(Math.floor(u*c/s)+1).keys()),h=Object(E.a)(Array(c).keys());this.arrayColors=[],this.arrayColors=function(e,t,a,n,r){var i,c,l=[],o=document.createElement("canvas"),s=o.getContext("2d"),u=r?r.width:e.width,m=r?r.height:e.height;o.width=e.width,o.height=e.height;var h=r?r.y:0,p=r?r.x:0,d=u/(t-1)+1e-10;if(s.drawImage(e,0,0,e.width,e.height),!isNaN(d)&&d>0)for(var g=m+d+h,f=u+d+p,v=h;v<g;v+=d)for(var b=p;b<f;b+=d){i=b,c=v,b>=u+p&&(i=b-(d-u%d/2)+1),v>=m&&(c=v-(d-m%d/2)+1);var C=s.getImageData(i,c,1,1).data;n&&a.length>0&&(C=I(C,a)),l.push(C)}return l}(this.image,c,l,a,o),this.counts={};var p={};this.arrayColors.forEach((function(t,a){e.counts[t]=e.counts[t]+1||1,p[a]=[[Math.floor(a/c),a%c],[t[0],t[1],t[2]]]}));var d=function(e,t,a,n,i){var c,l=0;return e.map((function(e){return r.a.createElement("div",{width:"100%",key:e,style:{margin:n-8,display:"block ruby"}},c=i&&i[l]?t.map((function(t){return c=i&&i[l]?i[l++]:"black",r.a.createElement(w,{key:e+""+t,type:a,distance:n,color:"rgba(".concat(c[0],",").concat(c[1],",").concat(c[2],",",255,")")})})):r.a.createElement("div",null))}))}(m,h,n,i,this.arrayColors),g=this.counts;return r.a.createElement("div",{className:"pixeled"},r.a.createElement("div",{style:{backgroundColor:"gray"}},d),r.a.createElement("h1",null,"Quantity of different colors"),r.a.createElement("div",null,Object.keys(this.counts).map((function(e){return r.a.createElement("div",{key:e}," ",e+" - "+g[e])}))),r.a.createElement("h1",null,"Dictionary"),r.a.createElement("div",null,JSON.stringify(p)))}}]),a}(r.a.Component);function O(e,t){var a,n=0;for(a=0;a<3;a++)n+=(e[a]-t[a])*(e[a]-t[a]);return Math.sqrt(n)}function I(e,t){var a=[],n=O(e,t[0]);return t.forEach((function(t){O(e,t)<=n&&(a=t,n=O(e,t))})),a}var k=function(e){var t=new Image;return t.src=e,t},j=a(40),x=a.n(j),S={withPalette:!0,square:!1,distance:1,pixelsToConvert:60,paletteSelected:[[140,143,174],[88,69,99],[62,33,55],[154,99,72],[215,155,125],[245,237,186],[192,199,65],[100,125,52],[228,148,58],[157,48,59],[210,100,113],[112,55,127],[126,196,193],[52,133,157],[23,67,75],[31,14,28],[0,0,0],[255,255,255]],image:k(x.a),crop:{aspect:16/9}},P=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).palette=S.paletteSelected,e.state=S,e.handleInputChange=function(t){var a=t.target,n="checkbox"===a.type?a.checked:a.value,r=a.name;e.setState(Object(s.a)({},r,n))},e.handleInputChangeFile=function(t){var a=t.target,n=URL.createObjectURL(a.files[0]),r=k(n);r.onload=function(){e.setState({image:r})}},e.handleInputChangePalette=function(t){var a=t.target,n=a.checked,r=a.name.split(","),i=[Number(r[0]),Number(r[1]),Number(r[2])];if(console.log(i),n){var c=e.state.paletteSelected;c.push(i),e.setState({paletteSelected:c})}else{var l=e.state.paletteSelected;e.setState({paletteSelected:l.filter((function(e){return console.log(e,i,e.includes(i),e.every((function(e){return i.includes(e)}))),!e.every((function(e){return i.includes(e)}))}))})}},e.callbackImgCropped=function(t){e.setState({imgCropped:t})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.withPalette,n=t.square,i=t.distance,c=t.pixelsToConvert,l=t.file,o=t.image,s=t.imgCropped;return console.log("Img cropped:",s?s.crop:""),r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"App-img"},r.a.createElement(C,{src:o.src,callbackImgCropped:this.callbackImgCropped})),r.a.createElement("div",{className:"parameters"},r.a.createElement("div",null,"Load image ",r.a.createElement("br",null),r.a.createElement("input",{name:"file",type:"file",checked:l,accept:"image/*",onChange:this.handleInputChangeFile})),r.a.createElement("div",null,"With limited palette?",r.a.createElement("input",{name:"withPalette",type:"checkbox",checked:a,onChange:this.handleInputChange})),r.a.createElement("div",null,"Square?",r.a.createElement("input",{name:"square",type:"checkbox",checked:n,onChange:this.handleInputChange})),r.a.createElement("div",null,"Pixels throughout:",r.a.createElement("input",{name:"pixelsToConvert",type:"number",defaultValue:this.state.pixelsToConvert,checked:c,onChange:this.handleInputChange}))),r.a.createElement("div",{className:"parameters"},r.a.createElement("div",null,"Select palette colors",this.palette.map((function(t,a){return r.a.createElement("div",{key:t,style:{backgroundColor:"rgba(".concat(t[0],",").concat(t[1],",").concat(t[2],",",255,")"),color:"rgba(".concat(255-t[0],",").concat(255-t[1],",").concat(255-t[2],",",255,")")}},r.a.createElement("input",{name:t,type:"checkbox",checked:e.state.paletteSelected.find((function(e){return e===t})),onChange:e.handleInputChangePalette}),r.a.createElement("label",null,t[0]+" "+t[1]+" "+t[2]))}))))),r.a.createElement(y,{image:s&&s.image,crop:s&&s.crop,withPalette:a,type:n?"square":"circle",distance:i,paletteSelected:this.state.paletteSelected,pixelsToConvert:Number(c)})))}}]),a}(n.Component),U=a(168),L=(a(169),a(171)),N=a(176),R=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.images,a=e.currentImage,n=e.onClick;return r.a.createElement(L.a,{gutter:[32,16],justify:"center"},t.map((function(e,t){var i=a===t?"active":"";return r.a.createElement(N.a,{span:21,key:t},r.a.createElement("img",{src:e,width:"100%",className:"thumbnail "+i,onClick:n(t)}))})))}}]),a}(n.Component),F=a(50),M=a(167),q=a(175),A=a(173),T=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).showModal=function(){n.setState({modalVisible:!0})},n.handleOk=function(e){var t=n.props.walls;n.props.putPictureOnImageCropped(n.state.imgCropped,t[0]),console.log("handle OK"),n.setState({modalVisible:!1})},n.handleCancel=function(e){n.setState({modalVisible:!1})},n.handleInputChangeFile=function(e){var t=e.target,a=URL.createObjectURL(t.files[0]),r=k(a);r.onload=function(){n.setState({imageUrl:r})}},n.callbackImgCropped=function(e){n.setState({imgCropped:e})},n.state={modalVisible:!1,loading:!1,imageUrl:void 0},n}return Object(m.a)(a,[{key:"render",value:function(){var e=r.a.createElement("div",null,this.state.loading?r.a.createElement(q.a,null):r.a.createElement(A.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload")),t=this.state.imageUrl,a=this.props;a.onFinalizeOK,a.onFinalizeCancel;return r.a.createElement(n.Fragment,null,r.a.createElement(F.a,{type:"primary",onClick:this.showModal},"Subir imagen"),r.a.createElement(M.a,{title:"Imagen previsual",visible:this.state.modalVisible,onOk:this.handleOk,onCancel:this.handleCancel},t?r.a.createElement(C,{src:t.src,callbackImgCropped:this.callbackImgCropped,alt:"preview",style:{width:"100%"}}):r.a.createElement("label",{className:"custom-file-upload"},r.a.createElement("input",{name:"file",type:"file",accept:"image/*",onChange:this.handleInputChangeFile}),e)))}}]),a}(n.Component),V=a(172),W=a(174),D=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.product,e.images),a=e.currentImage;return r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:t[a],width:"100%",className:"preview"}))}}]),a}(n.Component),z=a(95),B=a.n(z),H=a(96),J=a.n(H),_=a(97),K=a.n(_),$=[{name:"Wall 1",file:B.a,pictureOn:{x:50,y:50,width:120,height:120}},{name:"Wall 2",file:J.a,pictureOn:{x:255,y:70,width:350,height:350}},{name:"Wall 3",file:K.a,pictureOn:{x:265,y:95,width:350,height:350}}];var Q=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={feature:{model:"Square",saleCount:"131",description:"Cuadro mosaico con foto propia (80x80 cm) / Pixelate modelo Square / Podes regalar a tu familiar, amigo, vecino, \xa1o incluso ocupar la pared de tu living!",price:"3200",botons:Math.pow(80,2)},currentImage:0,images:[x.a]},n.next=function(){var e=n.state.currentImage+1;n.setState({currentImage:e})},n.prev=function(){var e=n.state.currentImage-1;n.setState({currentImage:e})},n.changeImage=function(e){return function(){console.log(e),n.setState({currentImage:e})}},n.updatePictureOnImageCropped=function(e,t){console.log("updatePictureOnImage",e,t);var a=document.createElement("canvas"),r=a.getContext("2d");a.width=300,a.height=300;var i=e.crop,c=new Image;c.onload=function(){var t=c.width/e.image.width,l=c.height/e.image.height;r.drawImage(e.image,i.x*t,i.y*l,i.width*t,i.height*l,0,0,300,300);var o=a.toDataURL();n.setState({images:[o]}),$.map((function(e){n.putPictureOnImage(o,e)})),n.setState({updatePicture:o})},console.log("image",e.image),c.src=e.image.src},n.putPictureOnImage=function(e,t){var a=document.createElement("canvas"),r=a.getContext("2d"),i=new Image;i.src=t.file,i.onload=function(){a.width=i.width,a.height=i.height,r.drawImage(i,0,0,i.width,i.height);var c=new Image;c.onload=function(){r.drawImage(c,t.pictureOn.x,t.pictureOn.y,t.pictureOn.width,t.pictureOn.height);var e=a.toDataURL(),i=n.state.images;i.push(e),n.setState({images:i})},c.src=e}},n.onPreview=function(){var e=Object(f.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.url){e.next=5;break}return e.next=4,new Promise((function(e){var a=new FileReader;a.readAsDataURL(t.originFileObj),a.onload=function(){return e(a.result)}}));case 4:a=e.sent;case 5:(n=new Image).src=a,window.open(a).document.write(n.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(s.a)({},r,a))},n.handleInputChangeFile=function(e){var t=e.target,a=URL.createObjectURL(t.files[0]),r=k(a);r.onload=function(){n.setState({image:r})}},n.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}(e.file.originFileObj,(function(e){return n.setState({imageUrl:e,loading:!1})})):n.setState({loading:!0})},$.map((function(e){n.putPictureOnImage(x.a,e)})),n}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.currentImage,a=e.feature,n=e.images,i=e.updatePicture,c=a.botons,l=Math.floor(Math.log10(c)),o=Math.pow(10,l),s=Math.floor(c/o)*o;this.state.loading?q.a:A.a;return r.a.createElement("div",{className:"Product"},r.a.createElement(L.a,{justify:"space-around"},r.a.createElement(N.a,{span:15},r.a.createElement(L.a,{justify:"space-around",align:"middle",gutter:[48,32]},r.a.createElement(N.a,{span:4},r.a.createElement(R,{images:n,currentImage:t,onClick:this.changeImage})),r.a.createElement(N.a,{span:20},r.a.createElement(L.a,{justify:"space-between",align:"middle"},r.a.createElement(N.a,{span:1,align:"center"},t>0&&r.a.createElement(V.a,{style:{fontSize:"16px"},onClick:this.prev})),r.a.createElement(N.a,{span:22},r.a.createElement(D,{product:i||x.a,images:n,currentImage:t})),r.a.createElement(N.a,{span:1,align:"center"},t<n.length-1&&r.a.createElement(W.a,{style:{fontSize:"16px"},onClick:this.next})))))),r.a.createElement(N.a,{span:8},r.a.createElement("h4",null,a.model),r.a.createElement("h4",null,a.saleCount," vendidas | ",r.a.createElement(U.a,{disabled:!0,allowHalf:!0,defaultValue:4.5})),r.a.createElement("h2",null,a.description),r.a.createElement("h3",null,"Cantidad de botonsitos: +",s),r.a.createElement("h1",null,"$",a.price),r.a.createElement("h5",null,"Iva incluido"),r.a.createElement("h3",null,"Carg\xe1 tu imagen"),r.a.createElement(L.a,null,r.a.createElement(N.a,null,r.a.createElement("img",{src:i||x.a,alt:"avatar",style:{width:"300px"}}))),r.a.createElement(L.a,null,r.a.createElement(N.a,null,r.a.createElement(T,{putPictureOnImageCropped:this.updatePictureOnImageCropped,walls:$}))))))}}]),a}(n.Component);var G=function(){return r.a.createElement(l.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:P}),r.a.createElement(o.a,{exact:!0,path:"/product",component:Q})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},40:function(e,t,a){e.exports=a.p+"static/media/britta.65342444.png"},95:function(e,t,a){e.exports=a.p+"static/media/wall_1.fa841da1.jpg"},96:function(e,t,a){e.exports=a.p+"static/media/wall_2.0b7a15b6.jpg"},97:function(e,t,a){e.exports=a.p+"static/media/wall_3.e5c6b3d8.jpg"}},[[112,1,2]]]);
//# sourceMappingURL=main.edd2fedd.chunk.js.map